import pygamefrom constants import *from collections import namedtuplefrom boat import Boatpygame.init()pygame.font.init()font = pygame.font.SysFont('arial', 25)Action = namedtuple('Action', 'tack left right')def terminate():    pygame.quit()    print('Game escaped')    quit()class Game:    def __init__(self, boat, buoy, human=True, w=WIDTH, h=HEIGHT):        pygame.display.set_caption('sailit')        self.boat = boat        self.boat_init_params = (boat.name, boat.x, boat.y, boat.bearing, boat.polar)        self.buoy = buoy        self.display = pygame.display.set_mode((w, h))        self.frame_iteration = 0        self.clock = pygame.time.Clock()        self.frame_iteration = 0        self.is_human = human    def reset(self):        del self.boat        (name, x, y, bearing, polar) = self.boat_init_params        self.boat = Boat(name, x, y, bearing, polar)        self.frame_iteration = 0    def play_step(self, action=Action(0, 0, 0)):        self.frame_iteration += 1        for event in pygame.event.get():            if event.type == pygame.QUIT:                terminate()        if self.is_human:            pressed = pygame.key.get_pressed()            action = Action(pressed[pygame.K_t], pressed[pygame.K_LEFT], pressed[pygame.K_RIGHT])            if pressed[pygame.K_ESCAPE]:                terminate()        self._move_order(action)        if self.boat.is_arrived(self.buoy.rect.center):            game_over = True            reward = 10            time = self.frame_iteration            print(f'Boat {self.boat.name} has arrived at its objective')            self.reset()            return reward, game_over, time        if self.frame_iteration == TIME_LIMIT:            game_over = True            reward = -10            print(f'Boat {self.boat.name} has not arrived in time')            self.reset()            return reward, game_over, TIME_LIMIT        self._update_ui()        self.boat.step_update()        self.clock.tick(SPEED)        game_over = False        return 0, game_over, self.frame_iteration    def _move_order(self, action: Action):        # Action is list of three booleans [tack, left, right]. only one of which can be 1, but all can be zeroes        if action.tack:            self.boat.tack()        elif action.left:            self.boat.turn(LEFT, 1)        elif action.right:            self.boat.turn(RIGHT, 1)        # if all are zeroes, do nothing, keep chilling    def _update_ui(self):        self.display.fill((0, 128, 255))        self.display.blit(self.boat.surf, self.boat.rect.topleft)        self.display.blit(self.buoy.surf, self.buoy)        pygame.display.flip()